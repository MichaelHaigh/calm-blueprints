{"status":{},"spec":{"description":"","resources":{"client_attrs":{"7ab4ebe9_deployment":{"y":467.5,"x":732}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"2POST_Create_Subnet"},{"kind":"app_task","name":"3GET_Subnet"},{"kind":"app_task","name":"1POST_Subnet_List"}],"name":"903503ef_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"2POST_Create_Subnet"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"3GET_Subnet"}},{"from_task_reference":{"kind":"app_task","name":"1POST_Subnet_List"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"2POST_Create_Subnet"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"2POST_Create_Subnet","attrs":{"expected_response_params":[{"status":"SUCCESS","code":202,"type":""}],"request_body":"{\n  \"spec\": {\n    \"description\": \"vlan-@@{vlan_id}@@\",\n    \"resources\": {\n      \"vswitch_name\": \"br0\",\n      \"subnet_type\": \"VLAN\",\n      \"vlan_id\": @@{calm_int(vlan_id)}@@\n    },\n    \"cluster_reference\": {\n      \"kind\": \"cluster\",\n      \"name\": \"@@{CLUSTER_NAME}@@\",\n      \"uuid\": \"@@{CLUSTER_UUID}@@\"\n    },\n    \"name\": \"vlan-@@{vlan_id}@@\"\n  },\n  \"api_version\": \"3.1.0\",\n  \"metadata\": {\n    \"kind\": \"subnet\",\n    \"spec_version\": 0,\n    \"spec_hash\": \"string\",\n    \"should_force_translate\": true,\n    \"name\": \"vlan-@@{vlan_id}@@\"\n  }\n}","headers":[],"url":"https:\/\/@@{address}@@:9440\/api\/nutanix\/v3\/subnets","response_paths":{"SUBNET_UUID":"$.metadata.uuid"},"retry_interval":5,"retry_count":5,"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":5,"type":"","method":"POST"},"timeout_secs":"0","type":"HTTP","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3GET_Subnet","attrs":{"expected_response_params":[{"status":"SUCCESS","code":200,"type":""}],"request_body":"","headers":[],"url":"https:\/\/@@{address}@@:9440\/api\/nutanix\/v3\/subnets\/@@{SUBNET_UUID}@@","response_paths":{},"retry_interval":5,"retry_count":5,"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":5,"type":"","method":"GET"},"timeout_secs":"0","type":"HTTP","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"1POST_Subnet_List","attrs":{"expected_response_params":[{"status":"SUCCESS","code":200,"type":""}],"request_body":"{}","headers":[],"url":"https:\/\/@@{address}@@:9440\/api\/nutanix\/v3\/subnets\/list","response_paths":{"CLUSTER_NAME":"$.entities[0].status.cluster_reference.name","CLUSTER_UUID":"$.entities[0].status.cluster_reference.uuid"},"retry_interval":5,"retry_count":5,"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":5,"type":"","method":"POST"},"timeout_secs":"0","type":"HTTP","variable_list":[]}],"description":"","name":"b7c0323f_runbook","main_task_local_reference":{"kind":"app_task","name":"903503ef_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"1DELETE_Subnet"}],"name":"c08a7805_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"1DELETE_Subnet","attrs":{"expected_response_params":[{"status":"SUCCESS","code":202,"type":""}],"request_body":"","headers":[],"url":"https:\/\/@@{address}@@:9440\/api\/nutanix\/v3\/subnets\/@@{SUBNET_UUID}@@","response_paths":{},"retry_interval":5,"retry_count":5,"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":5,"type":"","method":"DELETE"},"timeout_secs":"0","type":"HTTP","variable_list":[]}],"description":"","name":"dfc943bc_runbook","main_task_local_reference":{"kind":"app_task","name":"c08a7805_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"4d857333_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d098b6f7_runbook","main_task_local_reference":{"kind":"app_task","name":"4d857333_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"61a5d3b5_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"6b77bfce_runbook","main_task_local_reference":{"kind":"app_task","name":"61a5d3b5_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"PC"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"d9df903a_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f73791d5_runbook","main_task_local_reference":{"kind":"app_task","name":"d9df903a_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"PC","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"EXISTING_VM","name":"PrismCentral","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":true,"address":"@@{ip_address}@@","delay_secs":"60","connection_port":22},"os_type":"Linux","create_spec":{"type":"PROVISION_EXISTING_MACHINE","address":"localhost"},"variable_list":[]}],"credential_definition_list":[{"username":"admin","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"name":"Dummy"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"PC"}],"name":"Package","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"b2663d8c_dag","state":"NOT_VALIDATED","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"ff119f9a_runbook","state":"NOT_VALIDATED","main_task_local_reference":{"kind":"app_task","name":"b2663d8c_dag"},"message_list":[],"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"89bdd561_dag","state":"NOT_VALIDATED","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"699562e9_runbook","state":"NOT_VALIDATED","main_task_local_reference":{"kind":"app_task","name":"89bdd561_dag"},"message_list":[],"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"depends_on_list":[],"name":"7ab4ebe9_deployment","published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"Package"}],"substrate_local_reference":{"kind":"app_substrate","name":"PrismCentral"},"min_replicas":"1","variable_list":[],"description":""}],"description":"","action_list":[],"name":"Default","variable_list":[{"val_type":"STRING","description":"","name":"vlan_id","type":"LOCAL","value":"999","label":"","attrs":{"type":""},"editables":{"value":true}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"Dummy"},"type":"USER"},"name":"HTTP_Task_Example"},"api_version":"3.0","metadata":{"last_update_time":"1558450828326522","kind":"blueprint","spec_version":11,"creation_time":"1558446239556631","name":"HTTP_Task_Example"}}