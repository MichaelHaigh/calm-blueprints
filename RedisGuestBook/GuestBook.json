{"status":{},"spec":{"description":"","resources":{"client_attrs":{"None":{"y":146.5,"x":349},"RedisMasterDep":{"y":-73.5,"x":25},"GuestBookDep":{"y":-64.5,"x":308.75},"RedisSlaveDep":{"y":155,"x":178.625}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GuestBook"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3bd2cac9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"26b6b516_runbook","main_task_local_reference":{"kind":"app_task","name":"3bd2cac9_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GuestBook"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"f3b0f7ff_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"444540cb_runbook","main_task_local_reference":{"kind":"app_task","name":"f3b0f7ff_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GuestBook"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"336eb353_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"c728f7a5_runbook","main_task_local_reference":{"kind":"app_task","name":"336eb353_dag"},"variable_list":[]},"name":"action_restart"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GuestBook"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"71d60cfc_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"23276da8_runbook","main_task_local_reference":{"kind":"app_task","name":"71d60cfc_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GuestBook"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"c80adc07_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"4512f510_runbook","main_task_local_reference":{"kind":"app_task","name":"c80adc07_dag"},"variable_list":[]},"name":"action_stop"}],"depends_on_list":[],"name":"GuestBook","port_list":[],"tier":"","container_spec":{"name":"php-redis","ports":[{"protocol":"TCP","containerPort":80,"name":"guest-book"}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"env":[{"name":"REDIS_MASTER_SERVICE_HOST","value":"@@{RedisMasterService.name}@@"},{"name":"REDIS_SLAVE_SERVICE_HOST","value":"@@{RedisSlaveService.name}@@"},{"name":"GET_HOSTS_FROM","value":"env"}]},"variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisMaster"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"66deb2d4_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"31217c34_runbook","main_task_local_reference":{"kind":"app_task","name":"66deb2d4_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisMaster"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"289888d9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2eb236b9_runbook","main_task_local_reference":{"kind":"app_task","name":"289888d9_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisMaster"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"5b7b3762_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"12aa63d8_runbook","main_task_local_reference":{"kind":"app_task","name":"5b7b3762_dag"},"variable_list":[]},"name":"action_restart"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisMaster"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"2811762f_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"92cf61c7_runbook","main_task_local_reference":{"kind":"app_task","name":"2811762f_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisMaster"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"f51bb894_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"985bf613_runbook","main_task_local_reference":{"kind":"app_task","name":"f51bb894_dag"},"variable_list":[]},"name":"action_stop"}],"depends_on_list":[],"name":"RedisMaster","port_list":[],"tier":"","container_spec":{"name":"redis-master","resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"ports":[{"protocol":"TCP","containerPort":6379,"name":"redis-master"}]},"variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisSlave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"8ef3e886_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"08b38517_runbook","main_task_local_reference":{"kind":"app_task","name":"8ef3e886_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisSlave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"928f7479_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"92903b34_runbook","main_task_local_reference":{"kind":"app_task","name":"928f7479_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisSlave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"bef48451_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"405a28c2_runbook","main_task_local_reference":{"kind":"app_task","name":"bef48451_dag"},"variable_list":[]},"name":"action_restart"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisSlave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"81a06f37_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2527b2c8_runbook","main_task_local_reference":{"kind":"app_task","name":"81a06f37_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RedisSlave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"122b46c9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"6ae9c9c7_runbook","main_task_local_reference":{"kind":"app_task","name":"122b46c9_dag"},"variable_list":[]},"name":"action_stop"}],"depends_on_list":[],"name":"RedisSlave","port_list":[],"tier":"","container_spec":{"name":"redis-slave","ports":[{"protocol":"TCP","containerPort":6379,"name":"redis-slave"}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"env":[{"name":"GET_HOSTS_FROM","value":"env"},{"name":"REDIS_MASTER_SERVICE_HOST","value":"@@{RedisMasterService.name}@@"}]},"variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"K8S_POD","name":"Guest_Book","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"","delay_secs":"60","connection_port":22},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"frontend","app":"guestbook"},"namespace":"default","name":"Guest_Book"},"type":"PROVISION_K8S_POD","spec":{"dnsPolicy":"ClusterFirst"},"account_uuid":"83223736-3ed8-26be-2c5e-5cb7d0a84087"},"variable_list":[]},{"description":"","action_list":[],"type":"K8S_POD","name":"Redis_Master","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"","delay_secs":"60","connection_port":22},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"master"},"namespace":"default","name":"Redis_Master"},"type":"PROVISION_K8S_POD","spec":{"dnsPolicy":"ClusterFirst","restartPolicy":"Always"},"account_uuid":"83223736-3ed8-26be-2c5e-5cb7d0a84087"},"variable_list":[]},{"description":"","action_list":[],"type":"K8S_POD","name":"Redis_Slave","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"","delay_secs":"60","connection_port":22},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"slave"},"namespace":"default","name":"Redis_Slave"},"type":"PROVISION_K8S_POD","spec":{"dnsPolicy":"ClusterFirst"},"account_uuid":"83223736-3ed8-26be-2c5e-5cb7d0a84087"},"variable_list":[]}],"credential_definition_list":[],"package_definition_list":[{"image_spec":{"image":"k8s.gcr.io\/redis:e2e","imagePullPolicy":"Always"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"RedisMaster"}],"name":"Package1","version":"","variable_list":[]},{"image_spec":{"image":"gcr.io\/google-samples\/gb-frontend:v4","imagePullPolicy":"Always"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"GuestBook"}],"name":"Package2","version":"","variable_list":[]},{"image_spec":{"image":"gcr.io\/google_samples\/gb-redisslave:v1","imagePullPolicy":"Always"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"RedisSlave"}],"name":"Package3","version":"","variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"K8S_DEPLOYMENT","action_list":[],"depends_on_list":[],"name":"GuestBookDep","published_service_local_reference_list":[{"kind":"app_published_service","name":"GuestBookService"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package2"}],"substrate_local_reference":{"kind":"app_substrate","name":"Guest_Book"},"min_replicas":"3","options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":"3","selector":{"matchLabels":{"tier":"frontend","app":"guestbook"}}},"metadata":{"labels":{"tier":"frontend","app":"guestbook"},"namespace":"default","name":"guest-book"}},"variable_list":[],"description":""},{"type":"K8S_DEPLOYMENT","action_list":[],"depends_on_list":[],"name":"RedisMasterDep","published_service_local_reference_list":[{"kind":"app_published_service","name":"RedisMasterService"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package1"}],"substrate_local_reference":{"kind":"app_substrate","name":"Redis_Master"},"min_replicas":"1","options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":"1","selector":{"matchLabels":{"tier":"backend","app":"guestbook","role":"master"}}},"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"master"},"namespace":"default","name":"redis-master"}},"variable_list":[],"description":""},{"type":"K8S_DEPLOYMENT","action_list":[],"depends_on_list":[],"name":"RedisSlaveDep","published_service_local_reference_list":[{"kind":"app_published_service","name":"RedisSlaveService"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package3"}],"substrate_local_reference":{"kind":"app_substrate","name":"Redis_Slave"},"min_replicas":"2","options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":2,"selector":{"matchLabels":{"tier":"backend","app":"guestbook","role":"slave"}}},"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"slave"},"namespace":"default","name":"redis-slave"}},"variable_list":[],"description":""}],"description":"","action_list":[],"name":"Default","variable_list":[]}],"published_service_definition_list":[{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"GuestBookService","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"type":"NodePort","ports":[{"port":80,"targetPort":80,"nodePort":30080,"name":"guest-book"}],"selector":{"tier":"frontend","app":"guestbook"}},"metadata":{"labels":{"tier":"frontend","app":"guestbook"},"namespace":"default","name":"guest-book-service"}},"variable_list":[],"description":""},{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"RedisMasterService","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"type":"ClusterIP","ports":[{"protocol":"TCP","targetPort":6379,"name":"redis-master","port":6379}],"selector":{"tier":"backend","app":"guestbook","role":"master"}},"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"master"},"namespace":"default","name":"redis-master"}},"variable_list":[],"description":""},{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"RedisSlaveService","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"type":"ClusterIP","ports":[{"protocol":"TCP","targetPort":6379,"name":"redis-slave","port":6379}],"selector":{"tier":"backend","app":"guestbook","role":"slave"}},"metadata":{"labels":{"tier":"backend","app":"guestbook","role":"slave"},"namespace":"default","name":"redis-slave"}},"variable_list":[],"description":""}],"type":"USER"},"name":"GuestBook"},"api_version":"3.0","metadata":{"last_update_time":"1542216869214343","kind":"blueprint","spec_version":0,"creation_time":"1542216869214343","name":"GuestBook"}}